# æ³¨æ„è§„åˆ™åœ¨æ»¡è¶³è‡ªå·±éœ€æ±‚æƒ…å†µä¸‹ï¼Œå°½é‡åšåˆ°ç²¾ç®€ï¼Œä¸è¦è¿‡åº¦å¤æ‚ï¼Œä»¥å…å½±å“æ€§èƒ½ã€‚
# æœºåœºè®¢é˜…
proxy-providers:
  æœºåœºä¸€: # æœºåœºåç§°
    type: http # è·å–è®¢é˜…çš„æ–¹å¼â€œhttpâ€ä¸ºä»äº’è”ç½‘è·å–ã€‚
    url: "æœºåœºä¸€è®¢é˜…åœ°å€" # æœºåœºè®¢é˜…çš„URLåœ°å€
    interval: 86400  # æ›´æ–°é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰86400ä¸º24å°æ—¶
    health-check: # æœºåœºå¥åº·æ£€æŸ¥
      enable: true
      url: https://www.gstatic.com/generate_204 # è‡ªåŠ¨æµ‹å»¶è¿Ÿåœ°å€
      interval: 300 # è‡ªåŠ¨æµ‹å»¶è¿Ÿé—´éš”æ—¶é—´ï¼ˆç§’ï¼‰300ä¸º5åˆ†é’Ÿ
    proxy: ç›´è¿ # æ‹‰å»æœºåœºè®¢é˜…ä½¿ç”¨çš„ä»£ç†èŠ‚ç‚¹åç§°â€œDIRECTâ€ä¸ºç›´è¿
    # header: # æ‹‰å–è®¢é˜…è¯·æ±‚å¤´
    #   User-Agent: # UAä¸€èˆ¬ä½¿ç”¨"Clash.meta"
    #   - "Clash"
    #   - "mihomo"
    #   - "Clash.meta"
    # override: # é¢å¤–å‚æ•°
    #   udp: true # å®šä¹‰æœºåœºæ‰“å¼€udpæ”¯æŒã€‚
    #   down: "50 Mbps" # å®šä¹‰ä¸‹è½½é€Ÿç‡
    #   up: "10 Mbps" # å®šä¹‰ä¸Šä¼ é€Ÿç‡
    #   skip-cert-verify: true # è·³è¿‡è¯ä¹¦éªŒè¯
  æœºåœºäºŒ:
    url: "æœºåœºäºŒè®¢é˜…åœ°å€"
    type: http
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    proxy: ğŸš€ é»˜è®¤ä»£ç†
# global-ua: clash.meta # å…¨å±€UA

# èŠ‚ç‚¹ä¿¡æ¯
proxies:
  - {name: ç›´è¿, type: direct, udp: true}
  - {name: æ‹’ç», type: reject}

# å…¨å±€é…ç½® 
port: 7890 # HTTP(S) ä»£ç†æœåŠ¡å™¨ç«¯å£
socks-port: 7891 # SOCKS5 ä»£ç†ç«¯å£
redir-port: 7892 # é€æ˜ä»£ç†ç«¯å£ï¼Œç”¨äº Linux å’Œ MacOS
mixed-port: 7893 # HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆç«¯å£
tproxy-port: 7894 # Linuxçš„é€æ˜ä»£ç†æœåŠ¡å™¨ç«¯å£ï¼ˆTProxy TCPå’ŒTProxy UDPï¼‰# Transparent proxy server port for Linux (TProxy TCP and TProxy UDP)

allow-lan: true # å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: "*" # ç»‘å®š IP åœ°å€ï¼Œä»…ä½œç”¨äº allow-lan ä¸º trueï¼Œ'*'è¡¨ç¤ºæ‰€æœ‰åœ°å€

ipv6: true # å¼€å¯ IPv6 æ€»å¼€å…³ï¼Œå…³é—­é˜»æ–­æ‰€æœ‰ IPv6 é“¾æ¥å’Œå±è”½ DNS è¯·æ±‚ AAAA è®°å½•

unified-delay: true # ç»Ÿä¸€å»¶è¿Ÿ
tcp-concurrent: true # TCP å¹¶å‘è¿æ¥æ‰€æœ‰ IP, å°†ä½¿ç”¨æœ€å¿«æ¡æ‰‹çš„ TCP

log-level: warning # æ—¥å¿—ç­‰çº§ silent/error/warning/info/debug

#  find-process-mode æœ‰3ä¸ªå€¼ï¼šalways, strict, off
#  - always, å¼€å¯ï¼Œå¼ºåˆ¶åŒ¹é…æ‰€æœ‰è¿›ç¨‹
#  - strict, é»˜è®¤ï¼Œç”± mihomo åˆ¤æ–­æ˜¯å¦å¼€å¯
#  - off, ä¸åŒ¹é…è¿›ç¨‹ï¼Œæ¨èåœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨æ­¤æ¨¡å¼
find-process-mode: 'off'

# interface-name: en0 # è®¾ç½®å‡ºå£ç½‘å¡

# å…¨å±€ TLS æŒ‡çº¹ï¼Œä¼˜å…ˆä½äº proxy å†…çš„ client-fingerprint
# å¯é€‰ï¼š "chrome","firefox","safari","ios","random","none" options.
# Utls is currently support TLS transport in TCP/grpc/WS/HTTP for VLESS/Vmess and trojan.
global-client-fingerprint: chrome

# ç§»åŠ¨è®¾å¤‡çœç”µç›¸å…³
# TCPä¿æŒæ´»åŠ¨é—´éš”
disable-keep-alive: false # ç›®å‰åœ¨androidç«¯å¼ºåˆ¶ä¸ºtrue
keep-alive-idle: 600
keep-alive-interval: 15

profile: # å­˜å‚¨ select é€‰æ‹©è®°å½•
  # èŠ‚ç‚¹ç¼“å­˜
  store-selected: true
  # fake-ipç¼“å­˜
  store-fake-ip: true

# æ•°æ®åº“
# geodata-loader: memconservative/standard
# geodata-mode: true/false
# geo-auto-update: false # æ˜¯å¦è‡ªåŠ¨æ›´æ–° geodata
# geo-update-interval: 24 # æ›´æ–°é—´éš”ï¼Œå•ä½ï¼šå°æ—¶
# è‡ªå®šä¹‰ geodata url
# geox-url:
#   geoip: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat"
#   geosite: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
#   mmdb: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb"
#   asn: "https://mirror.ghproxy.com/https://github.com/xishang0128/geoip/releases/download/latest/Geolite2-ASN.mmdb"

# æ§åˆ¶é¢æ¿
external-controller: 0.0.0.0:9090 # RESTful API ç›‘å¬åœ°å€
# external-controller-tls: 0.0.0.0:9443 # RESTful API HTTPS ç›‘å¬åœ°å€ï¼Œéœ€è¦é…ç½® tls éƒ¨åˆ†é…ç½®æ–‡ä»¶
secret: "" # ç™»å½•é¢æ¿å¯†ç 
# UIæ–‡ä»¶ä¸‹è½½è·¯å¾„
# é…ç½® WEB UI ç›®å½•ï¼Œä½¿ç”¨ http://{{external-controller}}/ui è®¿é—®
external-ui: "/etc/mihomo/run/ui"
# UIåç§°
external-ui-name: zashboard
# é¢æ¿ä¸‹è½½åœ°å€ ç›®å‰æ”¯æŒä¸‹è½½zip,tgzæ ¼å¼çš„å‹ç¼©åŒ…
external-ui-url: "https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip"

# å—…æ¢åŸŸå å¯é€‰é…ç½®
# sniffer:
#   enable: true
#   # å—…æ¢ç±»å‹ï¼Œåè®®å’Œç«¯å£
#   sniff: # TLS å’Œ QUIC é»˜è®¤å¦‚æœä¸é…ç½® ports é»˜è®¤å—…æ¢ 443
#     QUIC:
#       ports: [443, 8443]
#     TLS:
#       ports: [443, 8443]

#     # é»˜è®¤å—…æ¢ 80
#     # HTTP: # éœ€è¦å—…æ¢çš„ç«¯å£
#       ports: [80, 8080-8880]
#       override-destination: true

#   # å¼ºåˆ¶å—…æ¢
#   force-domain:
#     - "+.v2ex.com"
#   # è·³è¿‡å¿½ç•¥å—…æ¢
#   skip-domain:
#     - "+.baidu.com"

# å…¥ç«™  è£¸æ ¸å¿…é¡»è®¾ç½®ï¼ŒOpenClashã€NiKKiæ’ä»¶è‡ªåŠ¨è®¾ç½®
tun:
  enable: true # å¼€å¯TUNæ¨¡å¼
  stack: gvisor # TUNæ¨¡å¼åè®®æ ˆï¼Œ3ä¸ªæ¨¡å¼â€œsystem/gvisor/mixedâ€
  # DNSåŠ«æŒç«¯å£
  dns-hijack: ["any:53", "tcp://any:53"] # éœ€è¦åŠ«æŒçš„ DNS
  auto-route: true   # è‡ªåŠ¨è·¯ç”±ï¼Œé…ç½®è·¯ç”±è¡¨
  auto-redirect: true # è‡ªåŠ¨é…ç½® iptables ä»¥é‡å®šå‘ TCP è¿æ¥ã€‚ä»…æ”¯æŒ Linuxã€‚å¸¦æœ‰ auto-redirect çš„ auto-route ç°åœ¨å¯ä»¥åœ¨è·¯ç”±å™¨ä¸ŠæŒ‰é¢„æœŸå·¥ä½œï¼Œæ— éœ€å¹²é¢„ã€‚
  auto-detect-interface: true # è‡ªåŠ¨è¯†åˆ«å‡ºå£ç½‘å¡

# DNS é…ç½®DNSæ¨¡å—
dns:
  enable: true # å…³é—­å°†ä½¿ç”¨ç³»ç»Ÿ DNS
  listen: 0.0.0.0:1053 # ç›‘å¬ç«¯å£ï¼Œnikkiä¸º1053ï¼Œopenclashä¸º7874ï¼Œæ’ä»¶è‡ªåŠ¨è®¾ç½®ç«¯å£ï¼Œè£¸æ ¸æŒ‡å®š
  ipv6: true # æ˜¯å¦è§£æIPv6åœ°å€ false å°†è¿”å› AAAA çš„ç©ºç»“æœ

  # é…ç½®åé¢çš„nameserverã€fallbackå’Œnameserver-policyå‘dnsæœåŠ¡å™¨çš„è¿æ¥è¿‡ç¨‹æ˜¯å¦éµå®ˆéµå®ˆrulesè§„åˆ™
  # å¦‚æœä¸ºfalseï¼ˆé»˜è®¤å€¼ï¼‰åˆ™è¿™ä¸‰éƒ¨åˆ†çš„dnsæœåŠ¡å™¨åœ¨æœªç‰¹åˆ«æŒ‡å®šçš„æƒ…å†µä¸‹ä¼šç›´è¿
  # å¦‚æœä¸ºtrueï¼Œå°†ä¼šæŒ‰ç…§rulesçš„è§„åˆ™åŒ¹é…é“¾æ¥æ–¹å¼ï¼ˆèµ°ä»£ç†æˆ–ç›´è¿ï¼‰ï¼Œå¦‚æœæœ‰ç‰¹åˆ«æŒ‡å®šåˆ™ä»»ç„¶ä»¥æŒ‡å®šå€¼ä¸ºå‡†
  # ä»…å½“proxy-server-nameserveréç©ºæ—¶å¯ä»¥å¼€å¯æ­¤é€‰é¡¹, å¼ºçƒˆä¸å»ºè®®å’Œprefer-h3ä¸€èµ·ä½¿ç”¨
  # æ­¤å¤–ï¼Œè¿™ä¸‰è€…é…ç½®ä¸­çš„dnsæœåŠ¡å™¨å¦‚æœå‡ºç°åŸŸåä¼šé‡‡ç”¨default-nameserveré…ç½®é¡¹è§£æï¼Œä¹Ÿè¯·ç¡®ä¿æ­£ç¡®é…ç½®default-nameserver
  respect-rules: true # æ˜¯å¦éµå¾ªè·¯ç”±è§„åˆ™

  enhanced-mode: fake-ip # æ¨¡å¼fake-ipæˆ–redir-hostï¼Œå»ºè®®fake-ipæ¨¡å¼
  fake-ip-range: 28.0.0.1/8 # fake-ipåœ°å€æ±  fake-ip æ± è®¾ç½®

  # é…ç½®fake-ip-filterçš„åŒ¹é…æ¨¡å¼ï¼Œé»˜è®¤ä¸ºblacklistï¼Œå³å¦‚æœåŒ¹é…æˆåŠŸä¸è¿”å›fake-ip
  # å¯è®¾ç½®ä¸ºwhitelistï¼Œå³åªæœ‰åŒ¹é…æˆåŠŸæ‰è¿”å›fake-ip
  fake-ip-filter-mode: blacklist
  
  # fake-ipè¿‡æ»¤åˆ—è¡¨
  fake-ip-filter: # é…ç½®ä¸ä½¿ç”¨ fake-ip çš„åŸŸå
    # å¼•ç”¨è§„åˆ™é›†
    # fakeip-filter ä¸º rule-providers ä¸­çš„åä¸º fakeip-filter è§„åˆ™è®¢é˜…ï¼Œ
    # ä¸” behavior å¿…é¡»ä¸º domain/classicalï¼Œå½“ä¸º classical æ—¶ä»…ä¼šç”Ÿæ•ˆåŸŸåç±»è§„åˆ™
    # - rule-set:fakeip-filter
    # fakeip-filter ä¸º geosite ä¸­åä¸º fakeip-filter çš„åˆ†ç±»ï¼ˆéœ€è¦è‡ªè¡Œä¿è¯è¯¥åˆ†ç±»å­˜åœ¨ï¼‰
    # - geosite:fakeip-filter
    # LAN
    - "*.lan"
    - "*.localdomain"
    - "*.example"
    - "*.invalid"
    - "*.localhost"
    - "*.test"
    - "*.local"
    - "*.home.arpa"
    - "*.direct"
    - "cable.auth.com"
    - "network-test.debian.org"
    - "detectportal.firefox.com"
    - "resolver1.opendns.com"
    - "global.turn.twilio.com"
    - "global.stun.twilio.com"
    - "app.yinxiang.com"
    - "injections.adguard.org"
    - "localhost.*.weixin.qq.com"
    - "*.blzstatic.cn"
    - "*.cmpassport.com"
    - "id6.me"
    - "open.e.189.cn"
    - "opencloud.wostore.cn"
    - "id.mail.wo.cn"
    - "mdn.open.wo.cn"
    - "hmrz.wo.cn"
    - "nishub1.10010.com"
    - "enrichgw.10010.com"
    - "*.wosms.cn"
    - "*.jegotrip.com.cn"
    - "*.icitymobile.mobi"
    - "*.pingan.com.cn"
    - "*.cmbchina.com"
    - "*.10099.com.cn"
    - "*.microdone.cn"
    - "PDC._msDCS.*.*"
    - "DC._msDCS.*.*"
    - "GC._msDCS.*.*"
    # æ”¾è¡ŒNTPæœåŠ¡
    - "time.*.com"
    - "time.*.gov"
    - "time.*.edu.cn"
    - "time.*.apple.com"
    - "time-ios.apple.com"
    - "time1.*.com"
    - "time2.*.com"
    - "time3.*.com"
    - "time4.*.com"
    - "time5.*.com"
    - "time6.*.com"
    - "time7.*.com"
    - "ntp.*.com"
    - "ntp1.*.com"
    - "ntp2.*.com"
    - "ntp3.*.com"
    - "ntp4.*.com"
    - "ntp5.*.com"
    - "ntp6.*.com"
    - "ntp7.*.com"
    - "*.time.edu.cn"
    - "*.ntp.org.cn"
    - "+.pool.ntp.org"
    - "+.ntp.tencent.com"
    - "+.ntp1.aliyun.com"
    - "+.ntp.ntsc.ac.cn"
    - "+.cn.ntp.org.cn"
    - "time1.cloud.tencent.com"
    # æ”¾è¡Œç½‘æ˜“äº‘éŸ³ä¹
    - "music.163.com"
    - "*.music.163.com"
    - "*.126.net"
    # ç™¾åº¦éŸ³ä¹
    - "musicapi.taihe.com"
    - "music.taihe.com"
    # é…·ç‹—éŸ³ä¹
    - "songsearch.kugou.com"
    - "trackercdn.kugou.com"
    # é…·æˆ‘éŸ³ä¹
    - "*.kuwo.cn"
    # JOOXéŸ³ä¹
    - "api-jooxtt.sanook.com"
    - "api.joox.com"
    - "joox.com"
    # QQéŸ³ä¹
    - "y.qq.com"
    - "*.y.qq.com"
    - "streamoc.music.tc.qq.com"
    - "mobileoc.music.tc.qq.com"
    - "isure.stream.qqmusic.qq.com"
    - "dl.stream.qqmusic.qq.com"
    - "aqqmusic.tc.qq.com"
    - "amobile.music.tc.qq.com"
    # è™¾ç±³éŸ³ä¹
    - "*.xiami.com"
    # å’ªå’•éŸ³ä¹
    - "*.music.migu.cn"
    - "music.migu.cn"
    # win10æœ¬åœ°è¿æ¥æ£€æµ‹
    - "+.msftconnecttest.com"
    - "+.msftncsi.com"
    # QQç™»å½•
    - "localhost.ptlogin2.qq.com"
    - "localhost.sec.qq.com"
    - "+.qq.com"
    - "+.tencent.com"
    # Game
    # Nintendo Switch
    - "+.srv.nintendo.net"
    - "*.n.n.srv.nintendo.net"
    - "+.cdn.nintendo.net"
    # Sony PlayStation
    - "+.stun.playstation.net"
    # Microsoft Xbox
    - "xbox.*.*.microsoft.com"
    - "*.*.xboxlive.com"
    - "xbox.*.microsoft.com"
    - "xnotify.xboxlive.com"
    # Wotgame
    - "+.battle.net"
    - "+.battlenet.com.cn"
    - "+.wotgame.cn"
    - "+.wggames.cn"
    - "+.wowsgame.cn"
    - "+.wargaming.net"
    # Golang
    - "proxy.golang.org"
    # STUN
    - "stun.*.*"
    - "stun.*.*.*"
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.stun.*.*.*.*"
    - "+.stun.*.*.*.*.*"
    # Linksys Router
    - "heartbeat.belkin.com"
    - "*.linksys.com"
    - "*.linksyssmartwifi.com"
    # ASUS Router
    - "*.router.asus.com"
    # Apple Software Update Service
    - "mesu.apple.com"
    - "swscan.apple.com"
    - "swquery.apple.com"
    - "swdownload.apple.com"
    - "swcdn.apple.com"
    - "swdist.apple.com"
    # Google
    - "lens.l.google.com"
    - "stun.l.google.com"
    - "na.b.g-tun.com"
    # Netflix
    - "+.nflxvideo.net"
    # FinalFantasy XIV Worldwide Server & CN Server
    - "*.square-enix.com"
    - "*.finalfantasyxiv.com"
    - "*.ffxiv.com"
    - "*.ff14.sdo.com"
    - "ff.dorado.sdo.com"
    # Bilibili
    - "*.mcdn.bilivideo.cn"
    # Disney Plus
    - "+.media.dssott.com"
    # shark007 Codecs 
    - "shark007.net"
    # Mijia
    - "Mijia Cloud"
    # æ‹›å•†é“¶è¡Œ
    - "+.cmbchina.com"
    - "+.cmbimg.com"
    # AdGuard
    - "local.adguard.org"
    # è¿…é›·
    - "+.sandai.net"
    - "+.n0808.com"
    # UU Plugin
    - "+.uu.163.com"
    - "ps.res.netease.com"
    # Wifi Calling
    - "+.pub.3gppnetwork.org"
    # GEOSITE(Meta core)
    # - "geosite:category-games"
    # - "geosite:apple-cn"
    # - "geosite:google-cn"
    # è‡ªå®šä¹‰
    # - "rule-set:private_domain,cn_domain"
    - "+.aliyuncs.com"
    - "+.61read.com"
    - "+.221636.xyz"
    - "+.wanghglc.top"
    - "+.4770113.xyz"
    - "+.moeyy.xyz"
    - "+.njxyj.cn"
    - "+.erp321.com"

  # é»˜è®¤DNSæœåŠ¡å™¨
  # ç”¨äºè§£æ nameserverï¼Œfallback ä»¥åŠå…¶ä»– DNS æœåŠ¡å™¨é…ç½®çš„ï¼ŒDNS æœåŠ¡åŸŸå
  # åªèƒ½ä½¿ç”¨çº¯ IP åœ°å€ï¼Œå¯ä½¿ç”¨åŠ å¯† DNS
  default-nameserver:
    - 218.2.2.2
    - 218.4.4.4

  # ä¸“ç”¨äºèŠ‚ç‚¹åŸŸåè§£æçš„ DNS æœåŠ¡å™¨ï¼Œéå¿…è¦é…ç½®é¡¹ï¼Œå¦‚æœä¸å¡«åˆ™éµå¾ªnameserver-policyã€nameserverå’Œfallbackçš„é…ç½®
  # proxy-server-nameserver:
  #   - https://223.5.5.5/dns-query

  # DNS ä¸»è¦åŸŸåé…ç½®
  # æ”¯æŒ UDPï¼ŒTCPï¼ŒDoTï¼ŒDoHï¼ŒDoQ
  # è¿™éƒ¨åˆ†ä¸ºä¸»è¦ DNS é…ç½®ï¼Œå½±å“æ‰€æœ‰ç›´è¿ï¼Œç¡®ä¿ä½¿ç”¨å¯¹å¤§é™†è§£æç²¾å‡†çš„ DNS
  # nameseverå°½é‡ç”¨è¿è¥å•†æä¾›çš„DNSï¼Œå¿…é¡»çš„
  nameserver:
    - 218.2.2.2
    - 218.4.4.4
 
# å‡ºç«™ç­–ç•¥
# æ³¨æ„é”šç‚¹å¿…é¡»æ”¾åœ¨å¼•ç”¨çš„ä¸Šæ–¹ï¼Œå¯ä»¥é›†ä¸­æŠŠé”šç‚¹å…¨éƒ¨æ”¾yamlçš„é¡¶éƒ¨ã€‚
pr: &pr {type: select, proxies: [ğŸš€ é»˜è®¤ä»£ç†, â™»ï¸ æ‰€æœ‰è‡ªåŠ¨, â™»ï¸ é¦™æ¸¯è‡ªåŠ¨, â™»ï¸ å°æ¹¾è‡ªåŠ¨, â™»ï¸ æ—¥æœ¬è‡ªåŠ¨, â™»ï¸ åŠ å¡è‡ªåŠ¨, â™»ï¸ éŸ©å›½è‡ªåŠ¨, â™»ï¸ ç¾å›½è‡ªåŠ¨, ğŸŒ æ‰‹åŠ¨åˆ‡æ¢, ç›´è¿, æ‹’ç»]}
proxy-groups:
  # ä»£ç†é“¾ï¼Œç›®å‰ relay å¯ä»¥æ”¯æŒ udp çš„åªæœ‰ vmess/vless/trojan/ss/ssr/tuic
  # wireguard ç›®å‰ä¸æ”¯æŒåœ¨ relay ä¸­ä½¿ç”¨ï¼Œè¯·ä½¿ç”¨ proxy ä¸­çš„ dialer-proxy é…ç½®é¡¹
  # Traffic: mihomo <-> http <-> vmess <-> ss1 <-> ss2 <-> Internet
  # url-test è‡ªåŠ¨é€‰æ‹©ï¼Œå°†æŒ‰ç…§ url æµ‹è¯•ç»“æœä½¿ç”¨å»¶è¿Ÿæœ€ä½èŠ‚ç‚¹
  # fallback æ•…éšœè½¬ç§»ï¼Œå°†æŒ‰ç…§ url æµ‹è¯•ç»“æœæŒ‰ç…§èŠ‚ç‚¹é¡ºåºé€‰æ‹©
  # load-balance è´Ÿè½½å‡è¡¡ï¼Œå°†æŒ‰ç…§ç®—æ³•éšæœºé€‰æ‹©èŠ‚ç‚¹ï¼Œ# strategy: consistent-hashing # å¯é€‰ round-robin å’Œ sticky-sessions
  # select æ‰‹åŠ¨é€‰æ‹©ï¼Œç”¨æˆ·è‡ªè¡Œé€‰æ‹©èŠ‚ç‚¹

  - {name: ğŸš€ é»˜è®¤ä»£ç†, type: select, proxies: [â™»ï¸ æ‰€æœ‰è‡ªåŠ¨, â™»ï¸ é¦™æ¸¯è‡ªåŠ¨, â™»ï¸ å°æ¹¾è‡ªåŠ¨, â™»ï¸ æ—¥æœ¬è‡ªåŠ¨, â™»ï¸ åŠ å¡è‡ªåŠ¨, â™»ï¸ éŸ©å›½è‡ªåŠ¨, â™»ï¸ ç¾å›½è‡ªåŠ¨, ğŸŒ æ‰‹åŠ¨åˆ‡æ¢, ç›´è¿, æ‹’ç»]}
  - {name: ğŸ¤– AI, <<: *pr}
  - {name: ğŸ‘¨ğŸ¿â€ğŸ’» GitHub, <<: *pr}
  - {name: ğŸ“¹ YouTube, <<: *pr}
  - {name: ğŸ€ Google, <<: *pr}
  - {name: ğŸ¬ OneDrive, <<: *pr}
  - {name: ğŸªŸ Microsoft, <<: *pr}
  - {name: ğŸµ TikTok, <<: *pr}
  - {name: ğŸ“² Telegram, <<: *pr}
  - {name: ğŸ“º Disney, <<: *pr}
  # - {name: ğŸ¥ NETFLIX, <<: *pr}
  - {name: ğŸ¥ NETFLIX, type: select, proxies: [â™»ï¸ åŠ å¡è‡ªåŠ¨, â™»ï¸ å°æ¹¾è‡ªåŠ¨, â™»ï¸ æ—¥æœ¬è‡ªåŠ¨, â™»ï¸ éŸ©å›½è‡ªåŠ¨, â™»ï¸ ç¾å›½è‡ªåŠ¨, â™»ï¸ é¦™æ¸¯è‡ªåŠ¨, ğŸš€ é»˜è®¤ä»£ç†, ğŸŒ æ‰‹åŠ¨åˆ‡æ¢, æ‹’ç»]}
  # - {name: âœˆï¸ Speedtest, <<: *pr}
  - {name: âœˆï¸ Speedtest, type: select, proxies: [ğŸ¯ ç›´è¿, ğŸš€ é»˜è®¤ä»£ç†, â™»ï¸ æ‰€æœ‰è‡ªåŠ¨, â™»ï¸ é¦™æ¸¯è‡ªåŠ¨, â™»ï¸ å°æ¹¾è‡ªåŠ¨, â™»ï¸ æ—¥æœ¬è‡ªåŠ¨, â™»ï¸ åŠ å¡è‡ªåŠ¨, â™»ï¸ éŸ©å›½è‡ªåŠ¨, â™»ï¸ ç¾å›½è‡ªåŠ¨, ğŸŒ æ‰‹åŠ¨åˆ‡æ¢, æ‹’ç»]}
  - {name: ğŸ’¶ PayPal, <<: *pr}
  - {name: ğŸ Apple, type: select, proxies: [ç›´è¿, ğŸš€ é»˜è®¤ä»£ç†, æ‹’ç»]}
  - {name: ğŸ¯ ç›´è¿, type: select, proxies: [ç›´è¿, ğŸš€ é»˜è®¤ä»£ç†, æ‹’ç»]}
  - {name: ğŸŸ æ¼ç½‘ä¹‹é±¼, <<: *pr}
  
  - {name: ğŸŒ æ‰‹åŠ¨åˆ‡æ¢, type: select, include-all: true, filter: "^((?!(ç›´è¿|æ‹’ç»)).)*$"}
  - {name: â™»ï¸ æ‰€æœ‰è‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "^((?!(ç›´è¿|æ‹’ç»)).)*$"}
  - {name: â™»ï¸ é¦™æ¸¯è‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?i)(?=.*(å¹¿æ¸¯|é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong))^((?!(å®¶å®½|æ¸¸æˆ|å‰©ä½™|æµé‡|0.5|0.5å€|0.5x|2.0|2å€|2x|3.0|3å€|3x|4.0|4å€|4x|5.0|5å€|5x)).)*$"}
  - {name: â™»ï¸ å°æ¹¾è‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?i)(?=.*(å¹¿å°|å°æ¹¾|å°ç£|TW|Tai Wan|ğŸ‡¹ğŸ‡¼|TaiWan))^((?!(å®¶å®½|æ¸¸æˆ|å‰©ä½™|æµé‡|0.5|0.5å€|0.5x|2.0|2å€|2x|3.0|3å€|3x|4.0|4å€|4x|5.0|5å€|5x)).)*$"}
  - {name: â™»ï¸ æ—¥æœ¬è‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?i)(?=.*(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan))^((?!(å®¶å®½|æ¸¸æˆ|å‰©ä½™|æµé‡|0.5|0.5å€|0.5x|2.0|2å€|2x|3.0|3å€|3x|4.0|4å€|4x|5.0|5å€|5x)).)*$"}
  - {name: â™»ï¸ åŠ å¡è‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?i)(?=.*(å¹¿æ–°|æ–°åŠ å¡|å¡|ç‹®åŸ|SG|ğŸ‡¸ğŸ‡¬|Singapore))^((?!(å®¶å®½|æ¸¸æˆ|å‰©ä½™|æµé‡|0.5|0.5å€|0.5x|2.0|2å€|2x|3.0|3å€|3x|4.0|4å€|4x|5.0|5å€|5x)).)*$"}
  - {name: â™»ï¸ éŸ©å›½è‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?i)(?=.*(å¹¿éŸ©|éŸ©å›½|éŸ“åœ‹|KR|é¦–å°”|æ˜¥å·|ğŸ‡°ğŸ‡·|Korea))^((?!(å®¶å®½|æ¸¸æˆ|å‰©ä½™|æµé‡|0.5|0.5å€|0.5x|2.0|2å€|2x|3.0|3å€|3x|4.0|4å€|4x|5.0|5å€|5x)).)*$"}
  - {name: â™»ï¸ ç¾å›½è‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?i)(?=.*(å¹¿ç¾|ç¾|çº½çº¦|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|ğŸ‡ºğŸ‡¸|United States))^((?!(æ¸¸æˆ|å‰©ä½™|æµé‡|0.5|0.5å€|0.5x|10.0|10å€|10x|20.0|20å€|20x)).)*$"}
  # - {name: ğŸ¥ å¥ˆé£è‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?i)(?=.*(NF|å¥ˆé£|è§£é”|Netflix|NETFLIX|Media))"}
  # - {name: ğŸ¥ å¥ˆé£æ‰‹åŠ¨, type: select, include-all: true, filter: "(?i)(?=.*(NF|å¥ˆé£|è§£é”|Netflix|NETFLIX|Media))"}

# è§„åˆ™åŒ¹é…
# æ­¤è§„åˆ™éƒ¨åˆ†æ²¡æœ‰åšé˜²æ³„éœ²å¤„ç†ï¼Œå› ä¸ºå¼Šä¸¥é‡å¤§äºåˆ©ï¼
rules:
  # æŒ‡å®šåŸŸåä½¿ç”¨çš„ä»£ç†ç»„
  - DOMAIN-SUFFIX,local,ğŸ¯ ç›´è¿
  - DOMAIN-SUFFIX,221636.xyz,ğŸ¯ ç›´è¿
  - DOMAIN-SUFFIX,wanghglc.top,ğŸ¯ ç›´è¿
  - DOMAIN-SUFFIX,4770113.xyz,ğŸ¯ ç›´è¿
  - DOMAIN-SUFFIX,njxyj.cn,ğŸ¯ ç›´è¿
  - DOMAIN-SUFFIX,erp321.com,ğŸ¯ ç›´è¿
  - DOMAIN-SUFFIX,qichiyu.com,ğŸš€ é»˜è®¤ä»£ç†
  # æŒ‡å®šå†…å¤–IPä½¿ç”¨çš„ä»£ç†ç»„
  - IP-CIDR,192.168.0.0/16,ğŸ¯ ç›´è¿
  - IP-CIDR,10.0.0.0/8,ğŸ¯ ç›´è¿
  - IP-CIDR,172.16.0.0/12,ğŸ¯ ç›´è¿
  - IP-CIDR,127.0.0.0/8,ğŸ¯ ç›´è¿
  - IP-CIDR,100.64.0.0/10,ğŸ¯ ç›´è¿
  - IP-CIDR6,::1/128,ğŸ¯ ç›´è¿
  - IP-CIDR6,fc00::/7,ğŸ¯ ç›´è¿
  - IP-CIDR6,fe80::/10,ğŸ¯ ç›´è¿
  - IP-CIDR6,fd00::/8,ğŸ¯ ç›´è¿
  # - SRC-IP-CIDR,192.168.10.10/32,ğŸ¯ ç›´è¿
  - RULE-SET,Direct_Domain,ç›´è¿
  - RULE-SET,private_domain,ç›´è¿
  - RULE-SET,private_ip,ç›´è¿
  - RULE-SET,Proxy_Domain,ğŸš€ é»˜è®¤ä»£ç†
  - RULE-SET,ai,ğŸ¤– AI
  - RULE-SET,github_domain,ğŸ‘¨ğŸ¿â€ğŸ’» GitHub
  - RULE-SET,youtube_domain,ğŸ“¹ YouTube
  - RULE-SET,google_domain,ğŸ€ Google
  - RULE-SET,google_ip,ğŸ€ Google,no-resolve
  - RULE-SET,onedrive_domain,ğŸ¬ OneDrive
  - RULE-SET,microsoft_domain,ğŸªŸ Microsoft
  - RULE-SET,tiktok_domain,ğŸµ TikTok
  - RULE-SET,telegram_domain,ğŸ“² Telegram
  - RULE-SET,telegram_ip,ğŸ“² Telegram,no-resolve
  - RULE-SET,netflix_domain,ğŸ¥ NETFLIX
  - RULE-SET,netflix_ip,ğŸ¥ NETFLIX,no-resolve
  - RULE-SET,Disney_domain,ğŸ“º Disney
  - RULE-SET,paypal_domain,ğŸ’¶ PayPal
  - RULE-SET,gfw_domain,ğŸš€ é»˜è®¤ä»£ç†
  - RULE-SET,geolocation-!cn,ğŸš€ é»˜è®¤ä»£ç†
  - RULE-SET,apple_domain,ğŸ Apple
  - RULE-SET,speedtest_domain,âœˆï¸ Speedtest
  - RULE-SET,cn_domain,ğŸ¯ ç›´è¿
  - RULE-SET,cn_ip,ğŸ¯ ç›´è¿
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

# è§„åˆ™é›†
rule-anchor:
  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: mrs}
  class: &class {type: http, interval: 86400, behavior: classical, format: text}
rule-providers: 
  Direct_Domain: {<<: *class, url: "https://github.moeyy.xyz/https://raw.githubusercontent.com/whg112/mihomo/refs/heads/main/Direct.list"}
  Proxy_Domain: {<<: *class, url: "https://github.moeyy.xyz/https://raw.githubusercontent.com/whg112/mihomo/refs/heads/main/Proxy.list"}
  private_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs"}
  ai: {  <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/refs/heads/meta/geo/geosite/category-ai-!cn.mrs" }
  youtube_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs"}
  google_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs"}
  github_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs"}
  telegram_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs"}
  netflix_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs"}
  Disney_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/disney.mrs"}
  paypal_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/paypal.mrs"}
  onedrive_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/onedrive.mrs"}
  microsoft_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs"}
  apple_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple-cn.mrs"}
  speedtest_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ookla-speedtest.mrs"}
  tiktok_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.mrs"}
  gfw_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/gfw.mrs"}
  geolocation-!cn: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs"}
  cn_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs"}
  
  cn_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs"}
  google_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs"}
  telegram_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs"}
  netflix_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs"}
  private_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs"}
